<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fundación Te Quiero Feliz | Movilidad y Dignidad para Iquique</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Serene Sky -->
    <!-- Application Structure Plan: Se ha integrado la navegación por pestañas directamente en la barra de navegación principal (header). Esto transforma la página en una experiencia de aplicación de una sola página (SPA) más cohesiva. Se añade una nueva pestaña "Nuestros Donantes" para mostrar un muro de transparencia, reforzando los valores de la fundación. El menú de navegación ahora controla directamente qué sección de contenido se muestra. -->
    <!-- Visualization & Content Choices: Se añade una tabla de donantes dinámica y desplazable dentro de la nueva pestaña, agrupada por mes con un gráfico de resumen. El resto de los elementos visuales se mantienen, pero su visibilidad ahora es controlada por la navegación principal. El script se ha modificado para que los enlaces del 'nav' funcionen como los controles de las pestañas. -->
    <!-- CONFIRMATION: SVG graphics USED for icons. Mermaid JS NOT used. -->
    <style>
        :root {
            --color-accent: #0EA5E9; /* sky-500 */
            --color-accent-rgb: 14, 165, 233;
            --color-secondary-bg: #F0F9FF; /* sky-50 */
            --color-text-primary: #374151; /* gray-700 */
            --color-text-secondary: #4B5563; /* gray-600 */
            --font-primary: 'Inter', sans-serif;
        }
        html {
            scroll-padding-top: 80px; /* Adjust for sticky header height */
        }
        body {
            font-family: var(--font-primary);
            background-color: #FFFFFF;
            color: var(--color-text-primary);
            opacity: 0;
            animation: pageLoadFadeIn 0.7s 0.2s ease-out forwards;
        }
        @keyframes pageLoadFadeIn {
            to { opacity: 1; }
        }

        .text-accent { color: var(--color-accent); }
        .bg-accent { background-color: var(--color-accent); }
        .bg-secondary { background-color: var(--color-secondary-bg); }
        .border-accent { border-color: var(--color-accent); }
        
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container { height: 400px; }
        }
        
        .nav-link {
            transition: color 0.3s ease, font-weight 0.3s ease;
            cursor: pointer;
            position: relative;
            padding-bottom: 8px; /* Space for underline */
        }
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background-color: var(--color-accent);
            transition: width 0.3s ease-in-out;
            border-radius: 2px;
        }
        .nav-link.active, .nav-link[aria-selected="true"] {
            color: var(--color-accent);
            font-weight: 700;
        }
        .nav-link.active::after, .nav-link[aria-selected="true"]::after, 
        .nav-link:hover::after { /* Show underline on hover too */
             width: 100%;
        }
        .nav-link:hover:not(.active):not([aria-selected="true"]) {
            color: var(--color-accent); /* Lighter hover color if not active */
        }

        .tab-content {
            display: none;
            animation: fadeInContent 0.6s ease-in-out forwards;
        }
        @keyframes fadeInContent {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .tab-content.active { display: block; }
        
        .accordion-button { transition: background-color 0.3s ease; }
        .accordion-button svg { transition: transform 0.3s ease; }
        .accordion-button[aria-expanded="true"] svg { transform: rotate(180deg); }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.25, 0.1, 0.25, 1); /* Smoother ease */
        }
        
        /* Focus styles for better accessibility */
        .nav-link:focus-visible, .accordion-button:focus-visible, 
        #mobile-menu-button:focus-visible, .social-link:focus-visible,
        #hero a:focus-visible, .ftqf-logo:focus-visible { /* Added hero link and logo */
            outline: 2px solid var(--color-accent);
            outline-offset: 3px;
            border-radius: 4px;
        }

        /* Hero text animations */
        .hero-highlight-1, .hero-highlight-2 {
            display: inline-block;
            opacity: 0;
            transform: translateY(25px);
            animation: fadeInUpText 0.7s ease-out forwards;
        }
        .hero-highlight-1 { animation-delay: 0.4s; }
        .hero-highlight-2 { animation-delay: 0.7s; }
        @keyframes fadeInUpText {
            to { opacity: 1; transform: translateY(0); }
        }
        #hero .hero-button-animate { /* Target specific hero button */
            opacity: 0;
            transform: translateY(25px);
            animation: fadeInUpText 0.7s ease-out 1.0s forwards; /* Delayed after text */
        }

        /* Generic animate on scroll */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.7s ease-out, transform 0.7s ease-out;
        }
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        /* Staggered children animation */
        .animate-child-item {
            opacity: 0;
            transform: translateY(25px);
            animation: fadeInUpItem 0.6s ease-out forwards;
        }
        @keyframes fadeInUpItem {
            to { opacity: 1; transform: translateY(0); }
        }

        /* Card hover enhancement */
        .mission-card {
             transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .mission-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1), 0 6px 6px rgba(0,0,0,0.08); /* Tailwind's shadow-xl style */
        }

        /* Social Link Icon Hover */
        .social-link svg {
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), color 0.3s ease; /* Fun bounce effect */
        }
        .social-link:hover svg {
            transform: scale(1.25);
        }

        /* "Apoyo Directo" Card Pulse Effect */
        .card-apoyo-directo {
            position: relative;
        }
        .card-apoyo-directo::before {
            content: '';
            position: absolute;
            top: -3px; left: -3px; right: -3px; bottom: -3px;
            border-radius: 0.625rem; /* Matches card's rounded-lg + a bit */
            border: 2px solid transparent;
            animation: pulseBorder 2.5s infinite ease-in-out;
            pointer-events: none; /* So it doesn't interfere with clicks */
            z-index: -1; /* Behind card content */
        }
        @keyframes pulseBorder {
            0%, 100% { 
                border-color: rgba(var(--color-accent-rgb), 0.5); 
                opacity: 0.7; transform: scale(1.01); 
            }
            50% { 
                border-color: rgba(var(--color-accent-rgb), 0.1); 
                opacity: 0.3; transform: scale(1.03); 
            }
        }
        /* Sticky header backdrop improvement */
         .backdrop-blur-md {
             -webkit-backdrop-filter: blur(12px); /* Safari */
             backdrop-filter: blur(12px);
         }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-accent ftqf-logo">
                FTQF<span class="text-gray-700">.</span>
                <span class="sr-only">Fundación Te Quiero Feliz - Inicio</span>
            </a>
            <div id="desktop-nav" class="hidden lg:flex space-x-8" role="tablist" aria-label="Navegación principal">
                <a role="tab" id="tab-mision-desktop" aria-controls="mision" aria-selected="true" class="nav-link active" data-tab="mision">Nuestra Misión</a>
                <a role="tab" id="tab-impacto-desktop" aria-controls="impacto" aria-selected="false" class="nav-link text-gray-600 hover:text-accent" data-tab="impacto">Impacto y Transparencia</a>
                <a role="tab" id="tab-alianza-desktop" aria-controls="alianza" aria-selected="false" class="nav-link text-gray-600 hover:text-accent" data-tab="alianza">Alianza Estratégica</a>
                <a role="tab" id="tab-donantes-desktop" aria-controls="donantes" aria-selected="false" class="nav-link text-gray-600 hover:text-accent" data-tab="donantes">Muro de Transparencia</a>
                <a role="tab" id="tab-sumate-desktop" aria-controls="sumate" aria-selected="false" class="nav-link text-gray-600 hover:text-accent" data-tab="sumate">Súmate</a>
            </div>
             <button id="mobile-menu-button" aria-controls="mobile-menu" aria-expanded="false" class="lg:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent">
                <span class="sr-only">Abrir menú principal</span>
                <svg id="menu-icon-open" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>
                <svg id="menu-icon-close" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden lg:hidden px-6 pt-2 pb-4" role="tablist" aria-label="Navegación principal móvil">
            <a role="tab" id="tab-mision-mobile" aria-controls="mision" aria-selected="true" class="nav-link active block py-2" data-tab="mision">Nuestra Misión</a>
            <a role="tab" id="tab-impacto-mobile" aria-controls="impacto" aria-selected="false" class="nav-link text-gray-600 hover:text-accent block py-2" data-tab="impacto">Impacto y Transparencia</a>
            <a role="tab" id="tab-alianza-mobile" aria-controls="alianza" aria-selected="false" class="nav-link text-gray-600 hover:text-accent block py-2" data-tab="alianza">Alianza Estratégica</a>
            <a role="tab" id="tab-donantes-mobile" aria-controls="donantes" aria-selected="false" class="nav-link text-gray-600 hover:text-accent block py-2" data-tab="donantes">Muro de Transparencia</a>
            <a role="tab" id="tab-sumate-mobile" aria-controls="sumate" aria-selected="false" class="nav-link text-gray-600 hover:text-accent block py-2" data-tab="sumate">Súmate</a>
        </div>
    </header>

    <main>
        <section id="hero" class="py-20 md:py-32">
            <div class="container mx-auto px-6 text-center">
                <h1 class="text-4xl md:text-6xl font-bold text-gray-800 leading-tight">
                    Movilizando la <span class="text-accent hero-highlight-1">esperanza</span> y la <span class="text-accent hero-highlight-2">dignidad</span> en Iquique y Alto Hospicio.
                </h1>
                <p class="mt-6 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto animate-on-scroll" style="animation-delay: 1s;"> <!-- Adding animate-on-scroll here for paragraph -->
                    Explora nuestra labor. Conoce cómo cerramos brechas de movilidad para personas con discapacidad y adultos mayores en la región.
                </p>
                <a href="#main-content" class="hero-button-animate mt-8 inline-block bg-accent text-white font-bold rounded-lg px-8 py-3 hover:bg-opacity-90 transition-all duration-300 shadow-lg">
                    Conoce Más
                </a>
            </div>
        </section>

        <section id="main-content" class="py-20 bg-secondary">
            <div class="container mx-auto px-6">
                <!-- Tab Content -->
                <div id="tab-container">
                    <div id="mision" role="tabpanel" aria-labelledby="tab-mision-desktop" class="tab-content active">
                        <div class="text-center mb-12 animate-on-scroll">
                            <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Una Misión que Transforma Vidas</h2>
                            <p class="mt-4 text-gray-600 max-w-2xl mx-auto">Para muchos, un simple trámite o una cita médica es un desafío logístico insuperable. Nacimos para cambiar esa realidad.</p>
                        </div>
                        <div class="grid md:grid-cols-3 gap-8 text-center mb-16 animate-on-scroll stagger-children-js">
                            <div class="bg-white p-8 rounded-xl shadow-md mission-card">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-accent mx-auto" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z" />
                                </svg>
                                <h3 class="text-xl font-bold mt-4 mb-2 text-accent">Personas con Discapacidad</h3>
                                <p class="text-gray-600">Acceso seguro a terapias, educación y vida social.</p>
                            </div>
                            <div class="bg-white p-8 rounded-xl shadow-md mission-card">
                                 <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-accent mx-auto" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                                </svg>
                                <h3 class="text-xl font-bold mt-4 mb-2 text-accent">Adultos Mayores</h3>
                                <p class="text-gray-600">Independencia y calidad de vida para sus trámites esenciales.</p>
                            </div>
                            <div class="bg-white p-8 rounded-xl shadow-md mission-card">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-accent mx-auto" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                  <path d="M2.5 16a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm15 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
                                  <path fill-rule="evenodd" d="M17.708 6.292A.999.999 0 0 0 17 6H3a1 1 0 0 0-.996.864l-1 5A1 1 0 0 0 2 13h1V6.5A1.5 1.5 0 0 1 4.5 5h10A1.5 1.5 0 0 1 16 6.5V13h2a1 1 0 0 0 .996-1.136l-1-5a1.002 1.002 0 0 0-.288-.572zM4 8h12V7H4v1z" clip-rule="evenodd"/>
                                  <rect x="1" y="13" width="18" height="2.5" rx="1"/>
                                </svg>
                                <h3 class="text-xl font-bold mt-4 mb-2 text-accent">Transporte Especializado</h3>
                                <p class="text-gray-600">Furgones con rampas hidráulicas para un traslado digno.</p>
                            </div>
                        </div>
                        <div class="flex flex-col md:flex-row items-center gap-12 bg-white p-8 rounded-2xl shadow-lg animate-on-scroll">
                           <div class="md:w-1/2 text-center md:text-left animate-child-item" style="animation-delay: 0.1s;">
                               <h2 class="text-2xl md:text-3xl font-bold text-gray-800">Un Impulso que Nace del Corazón</h2>
                               <p class="mt-4 text-gray-700">Nuestra fundación nació de una convicción profunda: nadie en nuestra comunidad debería quedarse atrás por barreras de movilidad. Vimos una necesidad real en nuestros vecinos y sentimos el llamado a actuar. Más que una organización, somos un grupo de personas con un compromiso genuino, movidos por el deseo de conectar, apoyar y devolver la dignidad a quienes más lo necesitan. Ese es el espíritu que nos mueve cada día.</p>
                           </div>
                           <div class="md:w-1/2 animate-child-item" style="animation-delay: 0.3s;">
                                <img src="https://placehold.co/600x400/F0F9FF/0EA5E9?text=Equipo+Comprometido" alt="Equipo de la Fundación Te Quiero Feliz demostrando compromiso comunitario." class="rounded-xl shadow-2xl w-full h-auto object-cover">
                           </div>
                        </div>
                    </div>

                    <div id="impacto" role="tabpanel" aria-labelledby="tab-impacto-desktop" class="tab-content">
                        <div class="text-center mb-12 animate-on-scroll">
                            <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Impacto Sostenido y Transparencia Activa</h2>
                            <p class="mt-4 text-gray-600 max-w-2xl mx-auto">Nuestra credibilidad se basa en hechos. Demostramos nuestro compromiso con un servicio constante y una estructura transparente.</p>
                        </div>
                        <div class="grid md:grid-cols-3 gap-8 py-10 mb-12 animate-on-scroll stagger-children-js" id="impacto-counters-container">
                            <div class="text-center">
                                <p class="text-6xl font-bold text-accent" data-target="50">0</p>
                                <p class="mt-2 text-lg text-gray-600 font-semibold">Personas/mes</p>
                            </div>
                            <div class="text-center">
                                <p class="text-6xl font-bold text-accent" data-target="1200">0</p>
                                <p class="mt-2 text-lg text-gray-600 font-semibold">Viajes de esperanza</p>
                            </div>
                            <div class="text-center">
                                <p class="text-6xl font-bold text-accent" data-target="100">0</p>
                                <p class="mt-2 text-lg text-gray-600 font-semibold">% Compromiso</p>
                            </div>
                        </div>
                         <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg mb-12 animate-on-scroll">
                            <h3 class="text-xl font-bold text-gray-800 text-center mb-4">Beneficiarios Mensuales (Estimado Histórico)</h3>
                            <div class="chart-container">
                                <canvas id="impactoChart" aria-label="Gráfico de barras de beneficiarios mensuales"></canvas>
                            </div>
                        </div>
                        <div class="grid md:grid-cols-3 gap-8 animate-on-scroll stagger-children-js">
                            <div class="border-l-4 border-accent bg-white p-6 rounded-r-lg shadow-sm">
                                <h4 class="font-bold text-lg text-gray-800">✅ Estatus Legal Verificado</h4>
                                <p class="mt-2 text-gray-600">Operamos como Persona Jurídica sin Fines de Lucro (RUT 65.225.792-5).</p>
                            </div>
                            <div class="border-l-4 border-accent bg-white p-6 rounded-r-lg shadow-sm">
                                <h4 class="font-bold text-lg text-gray-800">🤝 Reconocimiento Regional</h4>
                                <p class="mt-2 text-gray-600">Presentamos nuestra misión ante el Consejo Regional de Tarapacá.</p>
                            </div>
                             <div class="border-l-4 border-accent bg-white p-6 rounded-r-lg shadow-sm">
                                <h4 class="font-bold text-lg text-gray-800">🌱 Financiamiento Autónomo</h4>
                                <p class="mt-2 text-gray-600">Operamos gracias al apoyo de la comunidad y pymes conscientes.</p>
                            </div>
                        </div>
                    </div>

                    <div id="alianza" role="tabpanel" aria-labelledby="tab-alianza-desktop" class="tab-content">
                        <div class="text-center mb-12 animate-on-scroll">
                            <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Una Alianza Estratégica para el Bien Común</h2>
                            <p class="mt-4 text-gray-600 max-w-3xl mx-auto">La sinergia entre una fundación y una empresa contable consciente crea un impacto real y medible.</p>
                        </div>
                        <div class="flex flex-col md:flex-row items-center justify-center gap-8 text-center mb-10 animate-on-scroll stagger-children-js">
                            <div class="bg-white p-6 rounded-lg shadow-lg">
                                <h3 class="font-bold text-xl text-accent">Comunidad</h3>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mx-auto mt-2 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                                </svg>
                            </div>
                            <div class="bg-white p-8 rounded-xl shadow-2xl border-2 border-accent flex-grow max-w-md">
                                <h3 class="text-2xl font-bold text-gray-800">Fundación Te Quiero Feliz</h3>
                                <p class="mt-2 text-gray-600">Transforma apoyo en transporte gratuito.</p>
                                <div class="my-4 border-t border-gray-200"></div>
                                <p class="text-sm text-gray-500">Gestión Transparente gracias a:</p>
                                <h4 class="font-bold text-lg text-gray-700 mt-1">MTZ CONSULTORES</h4>
                            </div>
                             <div class="bg-white p-6 rounded-lg shadow-lg">
                                <h3 class="font-bold text-xl text-accent">MTZ Consultores</h3>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mx-auto mt-2 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M16 17l-4 4m0 0l-4-4m4 4V3" />
                                </svg>
                            </div>
                        </div>
                        <div class="max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-lg border border-gray-200 text-center animate-on-scroll">
                             <h3 class="text-2xl font-bold text-gray-800">Un Círculo Virtuoso de Confianza</h3>
                             <p class="mt-4 text-gray-700">MTZ Consultores Tributarios no solo es nuestro pilar financiero, sino que aporta su experticia contable garantizando que cada peso se gestione con máxima <span class="font-bold text-accent">transparencia</span>.</p>
                             <p class="mt-4 text-gray-700 font-semibold italic">Al contratar los servicios de MTZ, las empresas no solo obtienen asesoría experta, sino que se convierten en un motor de cambio social.</p>
                        </div>
                    </div>

                    <div id="donantes" role="tabpanel" aria-labelledby="tab-donantes-desktop" class="tab-content">
                        <div class="text-center mb-12 animate-on-scroll">
                            <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Muro de la Transparencia</h2>
                            <p class="mt-4 text-gray-600 max-w-2xl mx-auto">Con profunda gratitud, reconocemos a cada persona y empresa que hace posible nuestra labor. Su apoyo es el motor que nos permite seguir movilizando la esperanza.</p>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12 animate-on-scroll stagger-children-js">
                            <div class="bg-white p-6 rounded-xl shadow-lg text-center">
                                <p class="text-lg font-semibold text-gray-500">Total Recaudado</p>
                                <p id="total-donated" class="text-4xl font-bold text-accent">0</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl shadow-lg text-center">
                                <p class="text-lg font-semibold text-gray-500">N° de Aportes</p>
                                <p id="total-donations" class="text-4xl font-bold text-accent">0</p>
                            </div>
                        </div>

                        <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg mb-12 animate-on-scroll">
                            <h3 class="text-xl font-bold text-gray-800 text-center mb-4">Aportes por Mes</h3>
                            <div class="chart-container">
                                <canvas id="donationsByMonthChart" aria-label="Gráfico de barras de aportes mensuales"></canvas>
                            </div>
                        </div>
                        
                        <div id="donors-accordion-container" class="space-y-4 max-w-4xl mx-auto animate-on-scroll">
                            <!-- Accordion items will be injected here -->
                        </div>
                    </div>

                    <div id="sumate" role="tabpanel" aria-labelledby="tab-sumate-desktop" class="tab-content">
                        <div class="text-center mb-12 animate-on-scroll">
                             <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Súmate a Nuestra Causa</h2>
                             <p class="mt-4 text-gray-600 max-w-2xl mx-auto">Tu apoyo es vital. Juntos, podemos seguir movilizando la esperanza.</p>
                        </div>
                        <div class="grid md:grid-cols-1 lg:grid-cols-3 gap-8 items-start animate-on-scroll stagger-children-js">
                             <div class="bg-white p-8 rounded-lg shadow-md h-full flex flex-col">
                                 <h3 class="text-xl font-bold text-accent">Infórmate y Comparte</h3>
                                 <p class="mt-2 text-gray-600">Sigue y comparte nuestra historia para que más personas conozcan esta labor.</p>
                                 <div class="mt-auto pt-4 flex justify-center space-x-4">
                                    <a href="https://www.instagram.com/fundaciontequierofeliz" target="_blank" rel="noopener noreferrer" class="social-link text-gray-500 hover:text-accent" aria-label="Visita nuestro Instagram">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                                    </a>
                                    <a href="#" target="_blank" rel="noopener noreferrer" class="social-link text-gray-500 hover:text-accent" aria-label="Visita nuestro Facebook (enlace pendiente)">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>
                                    </a>
                                    <a href="#" target="_blank" rel="noopener noreferrer" class="social-link text-gray-500 hover:text-accent" aria-label="Visita nuestro X (antes Twitter, enlace pendiente)">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24"> <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/> </svg>
                                    </a>
                                 </div>
                             </div>
                             <div class="bg-accent text-white p-8 rounded-lg shadow-xl lg:col-span-1 card-apoyo-directo">
                                 <h3 class="text-2xl font-bold">Apoyo Directo</h3>
                                 <p class="mt-2">Tu donación nos permite seguir en ruta. Cada aporte es un viaje de esperanza.</p>
                                 <div class="mt-6 text-left bg-white/20 p-4 rounded-lg">
                                    <p><strong>Banco:</strong> BancoEstado</p>
                                    <p><strong>Tipo:</strong> Cuenta Corriente</p>
                                    <p><strong>N°:</strong> 123456789</p>
                                    <p><strong>Nombre:</strong> Fundación Te Quiero Feliz</p>
                                    <p><strong>RUT:</strong> 65.225.792-5</p>
                                    <p><strong>Email:</strong> donaciones@tequierofeliz.cl</p>
                                 </div>
                                 <p class="mt-4 text-sm">Envía tu comprobante a nuestro email para agradecerte personalmente.</p>
                             </div>
                              <div class="bg-white p-8 rounded-lg shadow-md h-full flex flex-col">
                                 <h3 class="text-xl font-bold text-accent">Inspira a tu Empresa</h3>
                                 <p class="mt-2 text-gray-600">La RSE es una acción que transforma comunidades. Contáctanos para explorar alianzas.</p>
                                 <a href="tel:+56990062213" class="mt-auto pt-4 font-semibold text-gray-700 hover:text-accent text-lg focus:outline-none focus-visible:ring-1 focus-visible:ring-accent rounded px-1">+56 9 9006 2213</a>
                             </div>
                         </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white py-12"> <!-- Increased padding for better spacing -->
        <div class="container mx-auto px-6 text-center">
            <p>Fundación Te Quiero Feliz - Iquique, Chile.</p>
            <p class="text-sm text-gray-400 mt-2">Movilizando la esperanza y la dignidad en nuestra comunidad.</p>
            <p class="text-xs text-gray-500 mt-6">Esta página es un homenaje a la labor de FTQF y sus colaboradores, creada para dar visibilidad a su impacto.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIconOpen = document.getElementById('menu-icon-open');
            const menuIconClose = document.getElementById('menu-icon-close');

            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
                const isExpanded = !mobileMenu.classList.contains('hidden');
                mobileMenuButton.setAttribute('aria-expanded', isExpanded);
                menuIconOpen.classList.toggle('hidden', isExpanded);
                menuIconClose.classList.toggle('hidden', !isExpanded);
            });
            
            document.querySelector('a[href="#main-content"]').addEventListener('click', function (e) {
                e.preventDefault();
                const targetElement = document.querySelector(this.getAttribute('href'));
                if(targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                }
            });

            const navLinks = document.querySelectorAll('.nav-link');
            const tabContents = document.querySelectorAll('.tab-content');
            let charts = { impacto: null, donantes: null };
            let animationFlags = {
                impactoCounters: false,
                impactoChart: false,
                donantesContent: false
            };

            const switchTab = (tabButton) => {
                const targetTabId = tabButton.getAttribute('data-tab');
                
                navLinks.forEach(item => {
                    item.classList.remove('active');
                    item.setAttribute('aria-selected', 'false');
                });
                
                document.querySelectorAll(`.nav-link[data-tab="${targetTabId}"]`).forEach(link => {
                    link.classList.add('active');
                    link.setAttribute('aria-selected', 'true');
                });

                tabContents.forEach(content => {
                    content.classList.remove('active'); // Remove from all
                    if (content.id === targetTabId) {
                        content.classList.add('active'); // Add to target
                         // Re-check for animations if elements are already visible in the new active tab
                        if (targetTabId === 'impacto') {
                            const countersContainer = document.getElementById('impacto-counters-container');
                            const chartCanvas = document.getElementById('impactoChart');
                            if (countersContainer && countersContainer.classList.contains('is-visible') && !animationFlags.impactoCounters) triggerAnimateCounters();
                            if (chartCanvas && chartCanvas.classList.contains('is-visible') && !animationFlags.impactoChart) triggerRenderImpactoChart();
                        } else if (targetTabId === 'donantes') {
                            const donorSectionContainer = document.getElementById('donors-accordion-container');
                            if (donorSectionContainer && donorSectionContainer.classList.contains('is-visible') && !animationFlags.donantesContent) triggerProcessAndRenderDonations();
                        }
                    }
                });
                
                if (!mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.add('hidden');
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                    menuIconOpen.classList.remove('hidden');
                    menuIconClose.classList.add('hidden');
                }
            };

            navLinks.forEach(tab => {
                tab.addEventListener('click', (e) => {
                    e.preventDefault();
                    switchTab(tab);
                });
                 tab.addEventListener('keydown', (e) => { // Keyboard navigation for tabs
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        switchTab(tab);
                    }
                });
            });
            
            function triggerAnimateCounters() {
                if (animationFlags.impactoCounters) return;
                animateCounters();
                animationFlags.impactoCounters = true;
            }
            function triggerRenderImpactoChart() {
                if (animationFlags.impactoChart) return;
                renderImpactoChart();
                animationFlags.impactoChart = true;
            }
            function triggerProcessAndRenderDonations() {
                if (animationFlags.donantesContent) return;
                processAndRenderDonations();
                animationFlags.donantesContent = true;
            }

            function animateCounters() {
                const counters = document.querySelectorAll('#impacto [data-target]');
                const speed = 120; // Slower speed value = faster animation
                counters.forEach(counter => {
                    counter.innerText = '0';
                    const animate = () => {
                        const target = +counter.getAttribute('data-target');
                        const count = +counter.innerText;
                        const inc = Math.max(1, target / speed);

                        if(count < target) {
                            counter.innerText = Math.min(target, Math.ceil(count + inc));
                            setTimeout(animate, 10); 
                        } else {
                            counter.innerText = target;
                        }
                    };
                    animate();
                });
            }

            function renderImpactoChart() {
                if (charts.impacto) return;
                const canvas = document.getElementById('impactoChart');
                if (!canvas || !canvas.getContext) return;
                const ctx = canvas.getContext('2d');
                charts.impacto = new Chart(ctx, { /* ... Chart config same as original ... */ 
                    type: 'bar',
                    data: {
                        labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                        datasets: [{
                            label: 'Beneficiarios por Mes',
                            data: [48, 52, 55, 49, 53, 50, 56, 51, 49, 54, 58, 60],
                            backgroundColor: 'rgba(14, 165, 233, 0.7)',
                            borderColor: 'rgba(14, 165, 233, 1)',
                            borderWidth: 1,
                            borderRadius: 5,
                        }]
                    },
                    options: {
                        responsive: true, maintainAspectRatio: false,
                        scales: { y: { beginAtZero: true, grid: { color: 'rgba(0,0,0,0.05)' } }, x: { grid: { display: false } } },
                        plugins: { legend: { display: false }, tooltip: { backgroundColor: '#374151', titleFont: { weight: 'bold' }, bodyFont: { weight: 'normal'}, callbacks: { label: context => ` ${context.parsed.y} personas` } } }
                    }
                });
            }

            const donorsData = [ /* ... Same donor data ... */ 
                { name: 'Katherine Vasquez', amount: 3700, date: '12/2/2024' }, { name: 'Raul Alexis Haddad Zelada', amount: 10000, date: '12/2/2024' }, { name: 'Raul Alexis Haddad Zelada', amount: 10000, date: '12/3/2024' }, { name: 'Anamour Ledezma', amount: 10000, date: '25/3/2024' }, { name: 'Paula Vicencio', amount: 3000, date: '1/4/2024' }, { name: 'Jera Andia', amount: 20000, date: '24/4/2024' }, { name: 'Constanzavg95', amount: 10000, date: '25/4/2024' }, { name: 'Paula Vicencio', amount: 6000, date: '2/5/2024' }, { name: 'Grupo Araos SPA', amount: 15000, date: '3/5/2024' }, { name: 'Katherine Vasquez', amount: 8000, date: '8/5/2024' }, { name: 'Maria Paz', amount: 8000, date: '9/5/2024' }, { name: 'Jera Andia', amount: 1000, date: '22/5/2024' }, { name: 'Luz Maria', amount: 8000, date: '25/5/2024' }, { name: 'Pallo Burger', amount: 20000, date: '28/5/2024' }, { name: 'Botilleria El Tio', amount: 30000, date: '29/5/2024' }, { name: 'Proyectos y Servicios G y B LTD', amount: 15000, date: '31/5/2024' }, { name: 'Paula Vicencio', amount: 6000, date: '3/6/2024' }, { name: 'Estephanie Frez', amount: 7000, date: '3/6/2024' }, { name: 'Grupo Araos SPA', amount: 30000, date: '6/6/2024' }, { name: 'D&A Seguridad Spa', amount: 30000, date: '7/6/2024' }, { name: 'Claudia Chamorro', amount: 40000, date: '7/6/2024' }, { name: 'Pallo Burger', amount: 20000, date: '10/6/2024' }, { name: 'Maylin Vildoso', amount: 10000, date: '20/6/2024' }, { name: 'Delia Schiller', amount: 10000, date: '21/6/2024' }, { name: 'Mar**gar*****', amount: 10000, date: '23/6/2024' }, { name: 'Ledezmaan Ledezmaan', amount: 10000, date: '2/7/2024' }, { name: 'Claudia Chamorro', amount: 10000, date: '1/8/2024' }, { name: 'KATURRA_17', amount: 100000, date: '2/8/2024' }, { name: 'Flavia Cerda', amount: 3000, date: '2/8/2024' }, { name: 'Pallo Burger', amount: 1500, date: '5/8/2024' }, { name: 'Pallo Burger', amount: 15000, date: '5/8/2024' }, { name: 'Autoscanner Master', amount: 5000, date: '6/8/2024' }, { name: 'Kinder y Pre-kinder East', amount: 279000, date: '9/8/2024' }, { name: 'Ferny R. Merino', amount: 10000, date: '11/8/2024' }, { name: 'Delia Schiller', amount: 10000, date: '12/8/2024' }, { name: 'Raul Alarcon', amount: 5000, date: '13/8/2024' }, { name: 'Grupo Araos SPA', amount: 20000, date: '1/9/2024' }, { name: 'Jorge Garrido', amount: 5000, date: '12/9/2024' }, { name: 'Delia Schiller', amount: 20000, date: '13/9/2024' }, { name: 'Vanessa Bautista', amount: 10000, date: '24/9/2024' }, { name: 'Mar**gar*****', amount: 10000, date: '29/9/2024' }, { name: 'Raul Alexis Haddad Zelada', amount: 10000, date: '3/10/2024' }, { name: 'Karen Sepulveda', amount: 50000, date: '3/10/2024' }, { name: 'E***** V*****', amount: 50000, date: '10/10/2024' }, { name: 'Valeria Galleguillos', amount: 5000, date: '24/10/2024' }, { name: 'Mar**gar*****', amount: 10000, date: '29/10/2024' }
            ];

            function processAndRenderDonations() {
                if (charts.donantes) return; // if already rendered and data is static
                const currencyFormatter = new Intl.NumberFormat('es-CL', { style: 'currency', currency: 'CLP', minimumFractionDigits: 0 });
                const monthNames = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
                
                const donationsByMonth = {}; let totalAmount = 0;
                donorsData.forEach(donor => {
                    const [day, month, year] = donor.date.split('/'); const date = new Date(+year, +month - 1, +day);
                    const monthKey = `${monthNames[date.getMonth()]} ${year}`;
                    if (!donationsByMonth[monthKey]) donationsByMonth[monthKey] = { donors: [], total: 0, date: date };
                    donationsByMonth[monthKey].donors.push(donor); donationsByMonth[monthKey].total += donor.amount; totalAmount += donor.amount;
                });
                const sortedMonths = Object.keys(donationsByMonth).sort((a, b) => donationsByMonth[a].date - donationsByMonth[b].date);

                document.getElementById('total-donated').textContent = currencyFormatter.format(totalAmount);
                document.getElementById('total-donations').textContent = donorsData.length;

                const accordionContainer = document.getElementById('donors-accordion-container');
                accordionContainer.innerHTML = '';
                sortedMonths.forEach((monthKey, index) => {
                    const monthData = donationsByMonth[monthKey]; /* ... Accordion HTML generation same as original ... */
                    const accordionItemId = `accordion-item-${index}`; const accordionButtonId = `accordion-button-${index}`; const accordionContentId = `accordion-content-${index}`;
                    const accordionItem = document.createElement('div'); accordionItem.className = 'bg-white rounded-xl shadow-md overflow-hidden';
                    accordionItem.innerHTML = `<button id="${accordionButtonId}" aria-expanded="false" aria-controls="${accordionContentId}" class="accordion-button w-full p-4 text-left font-semibold flex justify-between items-center hover:bg-gray-50 focus:outline-none"><span>${monthKey}</span><span class="flex items-center"><span class="text-accent font-bold mr-2">${currencyFormatter.format(monthData.total)}</span><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" /></svg></span></button><div id="${accordionContentId}" role="region" aria-labelledby="${accordionButtonId}" class="accordion-content"><div class="p-4 border-t border-gray-200"><table class="w-full text-left"><caption class="sr-only">Donaciones para ${monthKey}</caption><thead class="sr-only"><tr><th>Donante</th><th>Monto</th><th>Fecha</th></tr></thead><tbody class="divide-y divide-gray-100">${monthData.donors.sort((a,b) => new Date(b.date.split('/').reverse().join('-')) - new Date(a.date.split('/').reverse().join('-'))).map(d => `<tr class="text-sm"><td class="py-2 pr-2">${d.name}</td><td class="py-2 px-2 text-right font-medium">${currencyFormatter.format(d.amount)}</td><td class="py-2 pl-2 text-right text-gray-500">${d.date}</td></tr>`).join('')}</tbody></table></div></div>`;
                    accordionContainer.appendChild(accordionItem);
                });
                document.querySelectorAll('.accordion-button').forEach(button => { /* ... Accordion event listener same as original ... */ 
                    button.addEventListener('click', () => {
                        const content = document.getElementById(button.getAttribute('aria-controls')); const isExpanded = button.getAttribute('aria-expanded') === 'true';
                        button.setAttribute('aria-expanded', !isExpanded); content.style.maxHeight = !isExpanded ? content.scrollHeight + "px" : null;
                    });
                });

                const canvas = document.getElementById('donationsByMonthChart');
                if (!canvas || !canvas.getContext) return;
                const ctx = canvas.getContext('2d');
                charts.donantes = new Chart(ctx, { /* ... Chart config same as original ... */ 
                    type: 'bar',
                    data: {
                        labels: sortedMonths, datasets: [{ label: 'Donaciones por Mes', data: sortedMonths.map(m => donationsByMonth[m].total), backgroundColor: 'rgba(14, 165, 233, 0.7)', borderColor: 'rgba(14, 165, 233, 1)', borderWidth: 1, borderRadius: 5, }]
                    },
                    options: {
                        responsive: true, maintainAspectRatio: false,
                        scales: { y: { beginAtZero: true, grid: { color: 'rgba(0,0,0,0.05)' } }, x: { grid: { display: false } } },
                        plugins: { legend: { display: false }, tooltip: { backgroundColor: '#374151', titleFont: { weight: 'bold' }, bodyFont: { weight: 'normal'}, callbacks: { label: context => ` ${currencyFormatter.format(context.parsed.y)}` } } }
                    }
                });
            }

            // Intersection Observer for animations
            const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
            const elementObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');

                        if (entry.target.classList.contains('stagger-children-js')) {
                            const children = Array.from(entry.target.children);
                            children.forEach((child, index) => {
                                child.style.animationDelay = `${index * 0.15}s`;
                                child.classList.add('animate-child-item');
                            });
                        }
                        
                        // Specific content initializations
                        const currentTabId = document.querySelector('.nav-link.active')?.getAttribute('data-tab');

                        if (currentTabId === 'impacto') {
                            if (entry.target.id === 'impacto-counters-container') triggerAnimateCounters();
                            if (entry.target.id === 'impactoChart') triggerRenderImpactoChart();
                        } else if (currentTabId === 'donantes') {
                            if (entry.target.id === 'donors-accordion-container' || entry.target.id === 'donationsByMonthChart') {
                                triggerProcessAndRenderDonations(); // This handles accordion & chart
                            }
                        }
                        
                        // Unobserve after animation for most elements
                        if (!entry.target.classList.contains('observe-continuously')) {
                           observer.unobserve(entry.target);
                        }
                    }
                    // Optional: remove 'is-visible' for re-animation if scrolled out and back in (if not unobserved)
                    // else { entry.target.classList.remove('is-visible'); }
                });
            }, observerOptions);

            document.querySelectorAll('.animate-on-scroll, #impacto-counters-container, #impactoChart, #donors-accordion-container, #donationsByMonthChart').forEach(el => {
                elementObserver.observe(el);
            });

            // Initialize the first tab content
            const initialActiveTabButton = document.querySelector('.nav-link.active[role="tab"]');
            if (initialActiveTabButton) {
                 switchTab(initialActiveTabButton); 
            }
        });
    </script>

</body>
</html>